
<div *ngIf="isLoading" class="fullscreen-loader">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>


<div class="container mt-5 d-flex justify-content-center">
  <div class="card shadow-lg p-4" style="width: 100%; max-width: 500px;">

    <!-- Header with Title and Navigation Button -->
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h4 class="mb-0">Create Subject</h4>
      <a routerLink="/admin/getsubject" class="btn btn-outline-primary btn-sm">
        View All Subjects
      </a>
    </div>

    <form [formGroup]="creatSubjectForm" (ngSubmit)="submitForm()">

      <!-- Subject Name -->
      <div class="mb-3">
        <label for="name" class="form-label">Subject Name</label>
        <input placeholder="Enter subject name"
          type="text"
          id="name"
          class="form-control"
          formControlName="name"
          [ngClass]="{ 'is-invalid': f.name.invalid && (f.name.dirty || f.name.touched) }"
        />
        <div *ngIf="f.name.invalid && (f.name.dirty || f.name.touched)" class="invalid-feedback">
          <div *ngIf="f.name.errors?.['required']">Name is required</div>
          <div *ngIf="f.name.errors?.['minlength']">Name must be at least 3 characters</div>
          <div *ngIf="f.name.errors?.['maxlength']">Name must be no more than 40 characters</div>
        </div>
      </div>

      <!-- Course Selection -->
      <div class="mb-3">
        <label for="courseId" class="form-label">Select Course</label>
        <select
          id="courseId"
          class="form-select"
          formControlName="courseId"
          [ngClass]="{ 'is-invalid': f.courseId.invalid && (f.courseId.dirty || f.courseId.touched) }"
        >
          <option>Select a course</option>
          <option *ngFor="let course of courses" [value]="course.courseId">
            {{ course.name }}
          </option>
        </select>
        <div *ngIf="f.courseId.invalid && (f.courseId.dirty || f.courseId.touched)" class="invalid-feedback">
          Course is required
        </div>
      </div>

      <!-- Submit Button -->
      <div class="d-grid">
        <button type="submit" class="btn btn-primary" [disabled]="creatSubjectForm.invalid">
          Save
        </button>
      </div>

    </form>
  </div>
</div>

