<form [formGroup]="feeForm" (ngSubmit)="submitFee()" class="p-4 w-75 m-auto mt-4 border rounded bg-light shadow">
  <h4 class="text-center text-primary mb-4">
    <i class="bi bi-wallet2 me-2"></i> Add Student Fee
  </h4>

  <!-- الطالب والجروب والكورس في صف واحد -->
  <div class="row mb-3">
    <!-- الطالب -->
    <div class="col-md-4">
      <label class="form-label">Student</label>
      <select class="form-select" formControlName="studentId" (change)="onStudentChange($event)">
        <option [ngValue]="null">-- Select --</option>
        <option *ngFor="let s of students" [value]="s.userId">
          {{ s.name }} - {{ s.phoneNumber }}
        </option>
      </select>
    </div>

    <!-- الجروب -->
<div class="col-md-4">
  <label class="form-label">Group</label>
  <input type="text" class="form-control" [value]="groupName" readonly>
</div>

<!-- الكورس -->
<div class="col-md-4">
  <label class="form-label">Course</label>
  <input type="text" class="form-control" [value]="courseName" readonly>
</div>

  <!-- المبلغ والخصم -->
  <div class="row mb-3">
    <div class="col-md-6">
      <label class="form-label">Amount</label>
      <input type="number" class="form-control" formControlName="amount">
    </div>
    <div class="col-md-6">
      <label class="form-label">Discount</label>
      <input type="number" class="form-control" formControlName="discount">
    </div>
  </div>

  <!-- نوع المصروف -->
  <div class="mb-3">
    <label class="form-label d-block">Fee Type</label>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" formControlName="type" [value]="1" id="monthly">
      <label class="form-check-label" for="monthly">Monthly</label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" formControlName="type" [value]="2" id="registration">
      <label class="form-check-label" for="registration">Books</label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" formControlName="type" [value]="3" id="other">
      <label class="form-check-label" for="other">All</label>
    </div>
  </div>

  <!-- الملاحظات -->
  <div class="mb-3">
    <label class="form-label">Notes</label>
    <textarea class="form-control" formControlName="notes"></textarea>
  </div>

  <!-- الأزرار -->
  <div class="d-flex justify-content-between align-items-center">
    <button type="submit" class="btn btn-success" [disabled]="feeForm.invalid">
      <i class="bi bi-check-circle me-1"></i> Save Fee
    </button>

    <button routerLink="/admin/fee-report" type="button" class="btn btn-outline-primary">
      <i class="bi bi-cash-coin me-1"></i> View Fees Report
    </button>
  </div>
  </div>
</form>
